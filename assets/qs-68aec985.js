import{s as te}from"./side-channel-604f081e.js";var ie=String.prototype.replace,le=/%20/g,Q={RFC1738:"RFC1738",RFC3986:"RFC3986"},z={default:Q.RFC3986,formatters:{RFC1738:function(i){return ie.call(i,le,"+")},RFC3986:function(i){return String(i)}},RFC1738:Q.RFC1738,RFC3986:Q.RFC3986},fe=z,$=Object.prototype.hasOwnProperty,D=Array.isArray,b=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),oe=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(D(r)){for(var a=[],l=0;l<r.length;++l)typeof r[l]<"u"&&a.push(r[l]);n.obj[n.prop]=a}}},X=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},a=0;a<e.length;++a)typeof e[a]<"u"&&(r[a]=e[a]);return r},ue=function i(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(D(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!$.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var a=e;return D(e)&&!D(n)&&(a=X(e,r)),D(e)&&D(n)?(n.forEach(function(l,t){if($.call(e,t)){var c=e[t];c&&typeof c=="object"&&l&&typeof l=="object"?e[t]=i(c,l,r):e.push(l)}else e[t]=l}),e):Object.keys(n).reduce(function(l,t){var c=n[t];return $.call(l,t)?l[t]=i(l[t],c,r):l[t]=c,l},a)},ce=function(e,n){return Object.keys(n).reduce(function(r,a){return r[a]=n[a],r},e)},de=function(i,e,n){var r=i.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},L=1024,se=function(e,n,r,a,l){if(e.length===0)return e;var t=e;if(typeof e=="symbol"?t=Symbol.prototype.toString.call(e):typeof e!="string"&&(t=String(e)),r==="iso-8859-1")return escape(t).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var c="",o=0;o<t.length;o+=L){for(var d=t.length>=L?t.slice(o,o+L):t,f=[],m=0;m<d.length;++m){var u=d.charCodeAt(m);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||l===fe.RFC1738&&(u===40||u===41)){f[f.length]=d.charAt(m);continue}if(u<128){f[f.length]=b[u];continue}if(u<2048){f[f.length]=b[192|u>>6]+b[128|u&63];continue}if(u<55296||u>=57344){f[f.length]=b[224|u>>12]+b[128|u>>6&63]+b[128|u&63];continue}m+=1,u=65536+((u&1023)<<10|d.charCodeAt(m)&1023),f[f.length]=b[240|u>>18]+b[128|u>>12&63]+b[128|u>>6&63]+b[128|u&63]}c+=f.join("")}return c},ye=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],a=0;a<n.length;++a)for(var l=n[a],t=l.obj[l.prop],c=Object.keys(t),o=0;o<c.length;++o){var d=c[o],f=t[d];typeof f=="object"&&f!==null&&r.indexOf(f)===-1&&(n.push({obj:t,prop:d}),r.push(f))}return oe(n),e},pe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},me=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ve=function(e,n){return[].concat(e,n)},he=function(e,n){if(D(e)){for(var r=[],a=0;a<e.length;a+=1)r.push(n(e[a]));return r}return n(e)},Y={arrayToObject:X,assign:ce,combine:ve,compact:ye,decode:de,encode:se,isBuffer:me,isRegExp:pe,maybeMap:he,merge:ue},Z=te,I=Y,A=z,be=Object.prototype.hasOwnProperty,q={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},w=Array.isArray,we=Array.prototype.push,ee=function(i,e){we.apply(i,w(e)?e:[e])},ge=Date.prototype.toISOString,J=A.default,v={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:I.encode,encodeValuesOnly:!1,filter:void 0,format:J,formatter:A.formatters[J],indices:!1,serializeDate:function(e){return ge.call(e)},skipNulls:!1,strictNullHandling:!1},Ee=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},H={},xe=function i(e,n,r,a,l,t,c,o,d,f,m,u,h,p,g,E,F,_){for(var s=e,N=_,j=0,M=!1;(N=N.get(H))!==void 0&&!M;){var V=N.get(e);if(j+=1,typeof V<"u"){if(V===j)throw new RangeError("Cyclic object value");M=!0}typeof N.get(H)>"u"&&(j=0)}if(typeof f=="function"?s=f(n,s):s instanceof Date?s=h(s):r==="comma"&&w(s)&&(s=I.maybeMap(s,function(K){return K instanceof Date?h(K):K})),s===null){if(t)return d&&!E?d(n,v.encoder,F,"key",p):n;s=""}if(Ee(s)||I.isBuffer(s)){if(d){var ne=E?n:d(n,v.encoder,F,"key",p);return[g(ne)+"="+g(d(s,v.encoder,F,"value",p))]}return[g(n)+"="+g(String(s))]}var P=[];if(typeof s>"u")return P;var O;if(r==="comma"&&w(s))E&&d&&(s=I.maybeMap(s,d)),O=[{value:s.length>0?s.join(",")||null:void 0}];else if(w(f))O=f;else{var k=Object.keys(s);O=m?k.sort(m):k}var U=o?String(n).replace(/\./g,"%2E"):String(n),T=a&&w(s)&&s.length===1?U+"[]":U;if(l&&w(s)&&s.length===0)return T+"[]";for(var C=0;C<O.length;++C){var x=O[C],G=typeof x=="object"&&x&&typeof x.value<"u"?x.value:s[x];if(!(c&&G===null)){var R=u&&o?String(x).replace(/\./g,"%2E"):String(x),ae=w(s)?typeof r=="function"?r(T,R):T:T+(u?"."+R:"["+R+"]");_.set(e,j);var W=Z();W.set(H,_),ee(P,i(G,ae,r,a,l,t,c,o,r==="comma"&&E&&w(s)?null:d,f,m,u,h,p,g,E,F,W))}}return P},De=function(e){if(!e)return v;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||v.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=A.default;if(typeof e.format<"u"){if(!be.call(A.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var a=A.formatters[r],l=v.filter;(typeof e.filter=="function"||w(e.filter))&&(l=e.filter);var t;if(e.arrayFormat in q?t=e.arrayFormat:"indices"in e?t=e.indices?"indices":"repeat":t=v.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:v.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:v.addQueryPrefix,allowDots:c,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:v.allowEmptyArrays,arrayFormat:t,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:v.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?v.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:v.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:v.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:v.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:v.encodeValuesOnly,filter:l,format:r,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:v.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:v.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:v.strictNullHandling}},Se=function(i,e){var n=i,r=De(e),a,l;typeof r.filter=="function"?(l=r.filter,n=l("",n)):w(r.filter)&&(l=r.filter,a=l);var t=[];if(typeof n!="object"||n===null)return"";var c=q[r.arrayFormat],o=c==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);for(var d=Z(),f=0;f<a.length;++f){var m=a[f],u=n[m];r.skipNulls&&u===null||ee(t,xe(u,m,c,o,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var h=t.join(r.delimiter),p=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),h.length>0?p+h:""},S=Y,B=Object.prototype.hasOwnProperty,Oe=Array.isArray,y={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:S.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Ae=function(i){return i.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},re=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},Fe="utf8=%26%2310003%3B",Ne="utf8=%E2%9C%93",je=function(e,n){var r={__proto__:null},a=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;a=a.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=n.parameterLimit===1/0?void 0:n.parameterLimit,t=a.split(n.delimiter,l),c=-1,o,d=n.charset;if(n.charsetSentinel)for(o=0;o<t.length;++o)t[o].indexOf("utf8=")===0&&(t[o]===Ne?d="utf-8":t[o]===Fe&&(d="iso-8859-1"),c=o,o=t.length);for(o=0;o<t.length;++o)if(o!==c){var f=t[o],m=f.indexOf("]="),u=m===-1?f.indexOf("="):m+1,h,p;u===-1?(h=n.decoder(f,y.decoder,d,"key"),p=n.strictNullHandling?null:""):(h=n.decoder(f.slice(0,u),y.decoder,d,"key"),p=S.maybeMap(re(f.slice(u+1),n),function(E){return n.decoder(E,y.decoder,d,"value")})),p&&n.interpretNumericEntities&&d==="iso-8859-1"&&(p=Ae(String(p))),f.indexOf("[]=")>-1&&(p=Oe(p)?[p]:p);var g=B.call(r,h);g&&n.duplicates==="combine"?r[h]=S.combine(r[h],p):(!g||n.duplicates==="last")&&(r[h]=p)}return r},Te=function(i,e,n,r){for(var a=r?e:re(e,n),l=i.length-1;l>=0;--l){var t,c=i[l];if(c==="[]"&&n.parseArrays)t=n.allowEmptyArrays&&(a===""||n.strictNullHandling&&a===null)?[]:[].concat(a);else{t=n.plainObjects?{__proto__:null}:{};var o=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,d=n.decodeDotInKeys?o.replace(/%2E/g,"."):o,f=parseInt(d,10);!n.parseArrays&&d===""?t={0:a}:!isNaN(f)&&c!==d&&String(f)===d&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(t=[],t[f]=a):d!=="__proto__"&&(t[d]=a)}a=t}return a},Ie=function(e,n,r,a){if(e){var l=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,t=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,o=r.depth>0&&t.exec(l),d=o?l.slice(0,o.index):l,f=[];if(d){if(!r.plainObjects&&B.call(Object.prototype,d)&&!r.allowPrototypes)return;f.push(d)}for(var m=0;r.depth>0&&(o=c.exec(l))!==null&&m<r.depth;){if(m+=1,!r.plainObjects&&B.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;f.push(o[1])}if(o){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");f.push("["+l.slice(o.index)+"]")}return Te(f,n,r,a)}},_e=function(e){if(!e)return y;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?y.charset:e.charset,r=typeof e.duplicates>"u"?y.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:y.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:y.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:y.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:y.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:y.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:y.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:y.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:y.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:y.decoder,delimiter:typeof e.delimiter=="string"||S.isRegExp(e.delimiter)?e.delimiter:y.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:y.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:y.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:y.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:y.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:y.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:y.strictNullHandling}},Pe=function(i,e){var n=_e(e);if(i===""||i===null||typeof i>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof i=="string"?je(i,n):i,a=n.plainObjects?{__proto__:null}:{},l=Object.keys(r),t=0;t<l.length;++t){var c=l[t],o=Ie(c,r[c],n,typeof i=="string");a=S.merge(a,o,n)}return n.allowSparse===!0?a:S.compact(a)},Ce=Se,Re=Pe,Ke=z,$e={formats:Ke,parse:Re,stringify:Ce};export{$e as l};
